<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    

    <title>Result Page</title>
    <style>
      .asteriskField {
        display: none;
      }

      body {
        background: #343A40;
      }

      #ourResult{
        visibility: hidden;
      }
      table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
        background: #fff;
      }

      td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }

      tr:nth-child(even) {
        background-color: #dddddd;
      }
    </style>

  </head>
  <body>
    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <a class="navbar-brand" href="{% url 'index' %}">
              Home<span>.</span>
            </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">               
            </ul>
            {% if user.is_authenticated %}  
              <button class="btn btn-success my-2 my-sm-0 mt-5 mr-2"> You are log in as {{ user.username }}</button>
            {% endif %}
            <button class="btn btn-outline-success my-2 my-sm-0 mt-5 mr-2" id="checkResult">Check Result</button>
            <a href="{% url 'logout' %}" class="btn btn-success my-2 my-sm-0 mt-5">logout</a>
          </div>
        </nav> 
      </div>
    <div class="container">
      <h1 class="text-center mt-0 mb-3"><span class="text-center m-t-4 badge badge-secondary">Your Result Here</span></h1>
    </div>
    
    <div class="container">
      <div class="row">
        <table id="ourResult">
          <thead>
            <tr>
              <th>Course Code</th>
              <th>Subject Title</th>
              <th>Credit Units</th>
              <th>Score</th>
              <th>Grade</th>
              <th>Point</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>STA 111</td>
              <td>Descriptive Statistics I</td>
              <td>2</td>
              <td id="sta111"></td>
              <td id="sta111G"></td>
              <td id="sta111P"></td>
            </tr>
            <tr>
              <td>STA 112</td>
              <td>Elementary Probability Theory</td>
              <td>2</td>
              <td id="sta112"></td>
              <td id="sta112G"></td>
              <td id="sta112P"></td>
            </tr>
            <tr>
              <td>MTH 111</td>
              <td>Logic and Linear Algebra</td>
              <td>2</td>
              <td id="mth111"></td>
              <td id="mth111G"></td>
              <td id="mth111P"></td>
            </tr>
            <tr>
              <td>MTH 112</td>
              <td>Trig, Geometry and Function</td>
              <td>2</td>
              <td id="mth112"></td>
              <td id="mth112G"></td>
              <td id="mth112P"></td>
            </tr>
            <tr>
              <td>COM 111</td>
              <td>Visual Basic Language</td>
              <td>2</td>
              <td id="com111"></td>
              <td id="com111G"></td>
              <td id="com111P"></td>
            </tr>
            <tr>
              <td>COM 112</td>
              <td>Algorithm and Data Structure</td>
              <td>2</td>
              <td id="com112"></td>
              <td id="com112G"></td>
              <td id="com112P"></td>
            </tr>
            <tr>
              <td>ECO 111</td>
              <td>Economics I</td>
              <td>2</td>
              <td id="eco111"></td>
              <td id="eco111G"></td>
              <td id="eco111P"></td>
            </tr>
            <tr>
              <td>GEO 111</td>
              <td>Geography I</td>
              <td>2</td>
              <td id="geo111"></td>
              <td id="geo111G"></td>
              <td id="geo111P"></td>
            </tr>
            <tr>
              <td>GNS 101</td>
              <td>Use of English Language</td>
              <td>2</td>
              <td id="gns101"></td>
              <td id="gns101G"></td>
              <td id="gns101P"></td>
            </tr>
            <tr>
              <td>GS 111</td>
              <td>Physical and Health Education</td>
              <td>2</td>
              <td id="gs111"></td>
              <td id="gs111G"></td>
              <td id="gs111P"></td>
            </tr>
            <tr>
              <td>BUS 111</td>
              <td>Introduction to Accounting</td>
              <td>2</td>
              <td id="bus111"></td>
              <td id="bus111G"></td>
              <td id="bus111P"></td>
            </tr>
            <tr>
              <td>FRH 111</td>
              <td>Communication in French Lang. I</td>
              <td>2</td>
              <td id="frh111"></td>
              <td id="frh111G"></td>
              <td id="frh111P"></td>
            </tr>
            <tr>
              <td></td>
              <td>Total</td>
              <td id="totalCredit">24</td>
              <td></td>
              <td></td>
              <td id="totalP"></td>
            </tr>
            <tr>
              <td></td>
              <td>GPA</td>
              <td></td>
              <td></td>
              <td></td>
              <td id="gpa"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    

    <p id="content">
      <script>
            // const one = document.getElementById('one');
            // document.write(one.innerHTML);
      </script>
    </p>

    <button id="total">Total</button>

              
       

    <script>
      // Scores for each course
      const sta111 = document.getElementById('sta111');
      sta111.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const sta112 = document.getElementById('sta112');
      sta112.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const mth111 = document.getElementById('mth111');
      mth111.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const mth112 = document.getElementById('mth112');
      mth112.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const com111 = document.getElementById('com111');
      com111.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const com112 = document.getElementById('com112');
      com112.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const eco111 = document.getElementById('eco111');
      eco111.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const geo111 = document.getElementById('geo111');
      geo111.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const gns101 = document.getElementById('gns101');
      gns101.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const gs111 = document.getElementById('gs111');
      gs111.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const bus111 = document.getElementById('bus111');
      bus111.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;


      const frh111 = document.getElementById('frh111');
      frh111.innerHTML = Math.floor(Math.random() * (101 - 11) ) + 11;



      // Grade for each Course
      const sta111G = document.getElementById('sta111G');
      sta111G.innerHTML = getGrade( parseInt(sta111.innerHTML) );

      const sta112G = document.getElementById('sta112G');
      sta112G.innerHTML = getGrade( parseInt(sta112.innerHTML) );
      
      const mth111G = document.getElementById('mth111G');
      mth111G.innerHTML = getGrade( parseInt(mth111.innerHTML) );

      const mth112G = document.getElementById('mth112G');
      mth112G.innerHTML = getGrade( parseInt(mth112.innerHTML) );

      const com111G = document.getElementById('com111G');
      com111G.innerHTML = getGrade( parseInt(com111.innerHTML) );

      const com112G = document.getElementById('com112G');
      com112G.innerHTML = getGrade( parseInt(com112.innerHTML) );

      const eco111G = document.getElementById('eco111G');
      eco111G.innerHTML = getGrade( parseInt(eco111.innerHTML) );

      const geo111G = document.getElementById('geo111G');
      geo111G.innerHTML = getGrade( parseInt(geo111.innerHTML) );

      const gns101G = document.getElementById('gns101G');
      gns101G.innerHTML = getGrade( parseInt(gns101.innerHTML) );

      const gs111G = document.getElementById('gs111G');
      gs111G.innerHTML = getGrade( parseInt(gs111.innerHTML) );

      const bus111G = document.getElementById('bus111G');
      bus111G.innerHTML = getGrade( parseInt(bus111.innerHTML) );

      const frh111G = document.getElementById('frh111G');
      frh111G.innerHTML = getGrade( parseInt(frh111.innerHTML) );

      function getGrade(score) {
        if (score >= 75) {
          return 'A';
        }  

        else if (score >= 70 & score < 75) {
          return 'AB';
        }

        else if (score >= 65 & score < 70) {
          return 'B';
        }

        else if (score >= 60 & score < 65) {
          return 'BC';
        }

        else if (score >= 55 & score < 60) {
          return 'C';
        }

        else if (score >= 50 & score < 55) {
          return 'CD';
        }

        else if (score >= 45 & score < 50) {
          return 'D';
        }

        else if (score >= 40 & score < 45) {
          return 'E';
        }

        else {
          return 'F';
        }
      }

      // Point for each course

      const sta111P = document.getElementById('sta111P');
      sta111P.innerHTML = getPoint(sta111G.innerHTML);

      const sta112P = document.getElementById('sta112P');
      sta112P.innerHTML = getPoint(sta112G.innerHTML);

      const mth111P = document.getElementById('mth111P');
      mth111P.innerHTML = getPoint(mth111G.innerHTML);

      const mth112P = document.getElementById('mth112P');
      mth112P.innerHTML = getPoint(mth112G.innerHTML);

      const com111P = document.getElementById('com111P');
      com111P.innerHTML = getPoint(com111G.innerHTML);

      const com112P = document.getElementById('com112P');
      com112P.innerHTML = getPoint(com112G.innerHTML);

      const eco111P = document.getElementById('eco111P');
      eco111P.innerHTML = getPoint(eco111G.innerHTML);

      const geo111P = document.getElementById('geo111P');
      geo111P.innerHTML = getPoint(geo111G.innerHTML);

      const gns101P = document.getElementById('gns101P');
      gns101P.innerHTML = getPoint(gns101G.innerHTML);

      const gs111P = document.getElementById('gs111P');
      gs111P.innerHTML = getPoint(gs111G.innerHTML);

      const bus111P = document.getElementById('bus111P');
      bus111P.innerHTML = getPoint(bus111G.innerHTML);

      const frh111P = document.getElementById('frh111P');
      frh111P.innerHTML = getPoint(frh111G.innerHTML);


      function getPoint(grade) {
        if (grade == 'A') {
          return 4.00*2;
        }

        else if (grade == 'AB') {
          return 3.50*2;
        }

        else if (grade == 'B') {
          return 3.25*2;
        }

        else if (grade == 'BC') {
          return 3.00*2;
        }

        else if (grade == 'C') {
          return 2.75*2;
        }

        else if (grade == 'CD') {
          return 2.50*2;
        }

        else if (grade == 'D') {
          return 2.25*2;
        }

        else if (grade == 'E') {
          return 2.00*2;
        }

        else if (grade == 'F') {
          return 0.00*2;
        }
      }


      const totalP = document.getElementById('totalP');
      totalP.innerHTML = (
        parseFloat(sta111P.innerHTML) + parseFloat(sta112P.innerHTML) + 
        parseFloat(mth111P.innerHTML) + parseFloat(mth112P.innerHTML) + 
        parseFloat(com111P.innerHTML) + parseFloat(com112P.innerHTML) + 
        parseFloat(eco111P.innerHTML) + parseFloat(geo111P.innerHTML) + 
        parseFloat(gns101P.innerHTML) + parseFloat(gs111P.innerHTML) + 
        parseFloat(bus111P.innerHTML) + parseFloat(frh111P.innerHTML)
        );

      const gpa = document.getElementById('gpa');
      const totalCredit = parseFloat(document.getElementById('totalCredit').innerHTML);
      gpa.innerHTML = (totalP.innerHTML / totalCredit).toFixed(2);
      
      const checkResult = document.getElementById('checkResult');
      checkResult.addEventListener('click', myFunction);

      function myFunction() {
        let ourResult = document.getElementById("ourResult");
          ourResult.style.visibility = "visible";
      }


      // const total = document.getElementById('total');
      // total.addEventListener('click', showTotal);

      // function showTotal() {
      //   let content = document.getElementById("content");
      //     content.style.visibility = "visible";
      // }
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>

